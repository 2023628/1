"use strict";(self.webpackChunkpuls=self.webpackChunkpuls||[]).push([[401],{137:function(e,t,r){r.d(t,{R:function(){return l}});var i=r(311);const l={name:"AliPlayerV3",props:{options:{required:!1,type:[Object],default:()=>null},source:{required:!1,type:[String],default:null},cssLink:{required:!1,type:[String],default:"https://g.alicdn.com/de/prismplayer/2.9.7/skins/default/aliplayer-min.css"},scriptSrc:{required:!1,type:[String],default:"https://g.alicdn.com/de/prismplayer/2.9.7/aliplayer-min.js"}},data:()=>({player:null,playerId:`player-${Math.random().toString(36).substr(2).toLocaleUpperCase()}`,config:{id:null,width:"100%",autoplay:!0},events:["ready","play","pause","canplay","playing","ended","liveStreamStop","onM3u8Retry","hideBar","showBar","waiting","timeupdate","snapshoted","requestFullScreen","cancelFullScreen","error","startSeek","completeSeek"]}),watch:{source(){this.init()},options:{handler(){this.init()},deep:!0}},mounted(){this.$nextTick((()=>{this.init()}))},updated(){this.$nextTick((()=>{this.init()}))},methods:{init(){const e="app__aliplayer-min-css",t="app__aliplayer-min-js",r=document.getElementsByTagName("head"),i=document.getElementsByTagName("html");let l=document.getElementById(t);if(!document.getElementById(e)){const t=document.createElement("link");t.type="text/css",t.rel="stylesheet",t.href=this.cssLink,t.id=e,r[0].appendChild(t)}l?this.initPlayer():(l=document.createElement("script"),l.type="text/javascript",l.id=t,l.src=this.scriptSrc,i[0].appendChild(l)),l.addEventListener("load",(()=>{this.initPlayer()}))},initPlayer(){if(void 0!==window.Aliplayer){const e=this.deepCloneObject(this.options);if(e)for(const t in e)this.config[t]=e[t];this.source&&(this.config.source=this.source),this.config.id=this.playerId,this.player&&this.player.dispose(),this.player=Aliplayer(this.config);for(const e in this.events)this.player&&this.player.on(this.events[e],(t=>{this.$emit(this.events[e],t)}))}},getPlayer(){return this.player},play(){this.player&&this.player.play()},pause(){this.player&&this.player.pause()},replay(){this.player&&this.player.replay()},seek(e){this.player&&this.player.seek(e)},getCurrentTime(){return this.player&&this.player.getCurrentTime()},getDuration(){return this.player&&this.player.getDuration()},getVolume(){return this.player&&this.player.getVolume()},setVolume(e){this.player&&this.player.setVolume(e)},loadByUrl(e,t){this.player&&this.player.loadByUrl(e,t)},replayByVidAndPlayAuth(e,t){this.player&&this.player.replayByVidAndPlayAuth(e,t)},replayByVidAndAuthInfo(e,t,r,i,l,a){this.player&&this.player.replayByVidAndAuthInfo(e,t,r,i,l,a)},setPlayerSize(e,t){this.player&&this.player.setPlayerSize(e,t)},setSpeed(e){this.player&&this.player.setSpeed(e)},setSanpshotProperties(e,t,r){this.player&&this.player.setSanpshotProperties(e,t,r)},requestFullScreen(){this.player&&this.player.fullscreenService&&this.player.fullscreenService.requestFullScreen()},cancelFullScreen(){this.player&&this.player.fullscreenService&&this.player.fullscreenService.cancelFullScreen()},getIsFullScreen(){return this.player&&this.player.fullscreenService&&this.player.fullscreenService.getIsFullScreen()},getStatus(){return this.player&&this.player.getStatus()},setLiveTimeRange(e,t){this.player&&this.player.liveShiftSerivce&&this.player.liveShiftSerivce.setLiveTimeRange(e,t)},setRotate(e){this.player&&this.player.setRotate(e)},getRotate(){return this.player&&this.player.getRotate()},setImage(e){this.player&&this.player.setImage(e)},dispose(){this.player&&this.player.dispose()},setCover(e){this.player&&this.player.setCover(e)},setProgressMarkers(e){this.player&&this.player.setProgressMarkers(e)},setPreviewTime(e){this.player&&this.player.setPreviewTime(e)},getPreviewTime(){return this.player&&this.player.getPreviewTime()},isPreview(){this.player&&this.player.isPreview()},off(e,t){this.player&&this.player.off(e,t)},deepCloneObject(e){let t=Array.isArray(e)?[]:{};if(e&&"object"==typeof e)for(let r in e)e.hasOwnProperty(r)&&(e[r]&&"object"==typeof e[r]?t[r]=this.deepCloneObject(e[r]):t[r]=e[r]);return t}},beforeUnmount(){this.dispose()},render:function(e,t,r,l,a,s){return(0,i.openBlock)(),(0,i.createBlock)("div",{id:a.playerId},null,8,["id"])}}},89:function(e,t){t.Z=(e,t)=>{const r=e.__vccOpts||e;for(const[e,i]of t)r[e]=i;return r}},4401:function(e,t,r){r.r(t),r.d(t,{default:function(){return o}});var i=r(311),l=r(137),a=r(2078);const s={class:"main"},n={class:"send f-"};var p={__name:"index",setup(e){let t=(0,i.reactive)({source:"",cover:"",width:"100%",height:"500px",autoplay:!1,isLive:!1,rePlay:!1,playsinline:!0,preload:!1,controlBarVisibility:"hover",useH5Prism:!0,skinLayout:[{name:"bigPlayButton",align:"cc"},{name:"H5Loading",align:"cc"},{name:"infoDisplay"},{name:"tooltip",align:"blabs",x:0,y:56},{name:"thumbnail"},{name:"controlBar",align:"blabs",x:0,y:0,children:[{name:"progress",align:"blabs",x:0,y:44},{name:"playButton",align:"tl",x:15,y:12},{name:"timeDisplay",align:"tl",x:10,y:7},{name:"fullScreenButton",align:"tr",x:10,y:12}]}]}),r=(0,i.reactive)();function p(){var e=r,i=Math.floor(Math.random()*e.length);let l=r[i].vod_play_url;t.source=l,t.cover=r[i].vod_pic}return(0,i.onMounted)((()=>{!async function(){let{list:e}=await(0,a.op)();r=e,p()}()})),(e,r)=>{const a=(0,i.resolveComponent)("nut-button"),o=(0,i.resolveComponent)("router-link");return(0,i.openBlock)(),(0,i.createElementBlock)("div",s,[(0,i.createVNode)((0,i.unref)(l.R),{options:(0,i.unref)(t)},null,8,["options"]),(0,i.createElementVNode)("div",n,[(0,i.createVNode)(a,{type:"primary",onClick:r[0]||(r[0]=e=>p())},{default:(0,i.withCtx)((()=>[(0,i.createTextVNode)("换一个")])),_:1}),(0,i.createVNode)(o,{to:"/"},{default:(0,i.withCtx)((()=>[(0,i.createVNode)(a,{type:"primary"},{default:(0,i.withCtx)((()=>[(0,i.createTextVNode)("更多视频")])),_:1})])),_:1})])])}}};var o=(0,r(89).Z)(p,[["__scopeId","data-v-7b20a5d8"]])}}]);