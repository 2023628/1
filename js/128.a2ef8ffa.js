"use strict";(self.webpackChunkpuls=self.webpackChunkpuls||[]).push([[128],{137:function(e,t,i){i.d(t,{R:function(){return s}});var r=i(311);const s={name:"AliPlayerV3",props:{options:{required:!1,type:[Object],default:()=>null},source:{required:!1,type:[String],default:null},cssLink:{required:!1,type:[String],default:"https://g.alicdn.com/de/prismplayer/2.9.7/skins/default/aliplayer-min.css"},scriptSrc:{required:!1,type:[String],default:"https://g.alicdn.com/de/prismplayer/2.9.7/aliplayer-min.js"}},data:()=>({player:null,playerId:`player-${Math.random().toString(36).substr(2).toLocaleUpperCase()}`,config:{id:null,width:"100%",autoplay:!0},events:["ready","play","pause","canplay","playing","ended","liveStreamStop","onM3u8Retry","hideBar","showBar","waiting","timeupdate","snapshoted","requestFullScreen","cancelFullScreen","error","startSeek","completeSeek"]}),watch:{source(){this.init()},options:{handler(){this.init()},deep:!0}},mounted(){this.$nextTick((()=>{this.init()}))},updated(){this.$nextTick((()=>{this.init()}))},methods:{init(){const e="app__aliplayer-min-css",t="app__aliplayer-min-js",i=document.getElementsByTagName("head"),r=document.getElementsByTagName("html");let s=document.getElementById(t);if(!document.getElementById(e)){const t=document.createElement("link");t.type="text/css",t.rel="stylesheet",t.href=this.cssLink,t.id=e,i[0].appendChild(t)}s?this.initPlayer():(s=document.createElement("script"),s.type="text/javascript",s.id=t,s.src=this.scriptSrc,r[0].appendChild(s)),s.addEventListener("load",(()=>{this.initPlayer()}))},initPlayer(){if(void 0!==window.Aliplayer){const e=this.deepCloneObject(this.options);if(e)for(const t in e)this.config[t]=e[t];this.source&&(this.config.source=this.source),this.config.id=this.playerId,this.player&&this.player.dispose(),this.player=Aliplayer(this.config);for(const e in this.events)this.player&&this.player.on(this.events[e],(t=>{this.$emit(this.events[e],t)}))}},getPlayer(){return this.player},play(){this.player&&this.player.play()},pause(){this.player&&this.player.pause()},replay(){this.player&&this.player.replay()},seek(e){this.player&&this.player.seek(e)},getCurrentTime(){return this.player&&this.player.getCurrentTime()},getDuration(){return this.player&&this.player.getDuration()},getVolume(){return this.player&&this.player.getVolume()},setVolume(e){this.player&&this.player.setVolume(e)},loadByUrl(e,t){this.player&&this.player.loadByUrl(e,t)},replayByVidAndPlayAuth(e,t){this.player&&this.player.replayByVidAndPlayAuth(e,t)},replayByVidAndAuthInfo(e,t,i,r,s,l){this.player&&this.player.replayByVidAndAuthInfo(e,t,i,r,s,l)},setPlayerSize(e,t){this.player&&this.player.setPlayerSize(e,t)},setSpeed(e){this.player&&this.player.setSpeed(e)},setSanpshotProperties(e,t,i){this.player&&this.player.setSanpshotProperties(e,t,i)},requestFullScreen(){this.player&&this.player.fullscreenService&&this.player.fullscreenService.requestFullScreen()},cancelFullScreen(){this.player&&this.player.fullscreenService&&this.player.fullscreenService.cancelFullScreen()},getIsFullScreen(){return this.player&&this.player.fullscreenService&&this.player.fullscreenService.getIsFullScreen()},getStatus(){return this.player&&this.player.getStatus()},setLiveTimeRange(e,t){this.player&&this.player.liveShiftSerivce&&this.player.liveShiftSerivce.setLiveTimeRange(e,t)},setRotate(e){this.player&&this.player.setRotate(e)},getRotate(){return this.player&&this.player.getRotate()},setImage(e){this.player&&this.player.setImage(e)},dispose(){this.player&&this.player.dispose()},setCover(e){this.player&&this.player.setCover(e)},setProgressMarkers(e){this.player&&this.player.setProgressMarkers(e)},setPreviewTime(e){this.player&&this.player.setPreviewTime(e)},getPreviewTime(){return this.player&&this.player.getPreviewTime()},isPreview(){this.player&&this.player.isPreview()},off(e,t){this.player&&this.player.off(e,t)},deepCloneObject(e){let t=Array.isArray(e)?[]:{};if(e&&"object"==typeof e)for(let i in e)e.hasOwnProperty(i)&&(e[i]&&"object"==typeof e[i]?t[i]=this.deepCloneObject(e[i]):t[i]=e[i]);return t}},beforeUnmount(){this.dispose()},render:function(e,t,i,s,l,a){return(0,r.openBlock)(),(0,r.createBlock)("div",{id:l.playerId},null,8,["id"])}}},89:function(e,t){t.Z=(e,t)=>{const i=e.__vccOpts||e;for(const[e,r]of t)i[e]=r;return i}},6369:function(e,t,i){i.d(t,{E:function(){return s}});var r=i(1020);(0,r.Q_)("wall",{state:()=>({address:"",bnb:"0",chainId:97}),persist:!1,actions:{},getters:{}});const s=(0,r.Q_)("loca",{state:()=>({token:"",code:"",user:{},list:[],init:1}),persist:!0,actions:{},getters:{}})},128:function(e,t,i){i.r(t),i.d(t,{default:function(){return u}});i(7658);var r=i(311),s=i(6369),l=i(2078),a=i(2686),n=i(137);const p={class:"mian"},o={class:"tite fs16"},y={style:{"margin-top":"10%"}},c={class:"send"};var h={__name:"details",setup(e){const t=(0,r.defineAsyncComponent)((()=>i.e(408).then(i.bind(i,7408)))),h=(0,r.defineAsyncComponent)((()=>i.e(799).then(i.bind(i,9799))));(0,s.E)();let u=(0,r.reactive)({isvip:!1,onPlaydata:{}}),d=(0,r.reactive)({source:"",cover:"",width:"100%",height:"260px",autoplay:!1,isLive:!1,rePlay:!1,playsinline:!0,preload:!1,controlBarVisibility:"hover",useH5Prism:!0,skinLayout:[{name:"bigPlayButton",align:"cc"},{name:"H5Loading",align:"cc"},{name:"infoDisplay"},{name:"tooltip",align:"blabs",x:0,y:56},{name:"thumbnail"},{name:"controlBar",align:"blabs",x:0,y:0,children:[{name:"progress",align:"blabs",x:0,y:44},{name:"playButton",align:"tl",x:15,y:12},{name:"timeDisplay",align:"tl",x:10,y:7},{name:"fullScreenButton",align:"tr",x:10,y:12}]}]});(0,r.onMounted)((()=>{let e=a.Z.currentRoute.value.params.vod_id;e&&function(e){(0,l.op)({t:e}).then((e=>{let t=e.list[0].vod_play_url;d.source=t,d.cover=e.list[0].vod_pic,u.vod_play_url=`https://jiexi.99mao.xyz/m3u8/?url=${function(e){var t=/(http:\/\/|https:\/\/)((\w|=|\?|\.|\/|&|-)+)/g;t=/(https?|http|ftp|file):\/\/[-A-Za-z0-9+&@#/%?=~_|!:,.;]+[-A-Za-z0-9+&@#/%=~_|]/g;return(e=e.match(t))&&e.length?e[0]:null}(t)}`,u.vod_name=e.list[0].vod_name}))}(e)}));let m=e=>{u.onPlaydata=e,e.is_look_at?a.Z.push("/details/"+e.vod_id):u.isvip=!0};return(e,i)=>{const s=(0,r.resolveComponent)("nut-button"),l=(0,r.resolveComponent)("router-link");return(0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,null,[(0,r.createElementVNode)("div",p,[(0,r.createVNode)((0,r.unref)(n.R),{options:(0,r.unref)(d)},null,8,["options"]),(0,r.createElementVNode)("div",o,(0,r.toDisplayString)((0,r.unref)(u).vod_name),1),(0,r.createElementVNode)("div",y,[(0,r.createVNode)((0,r.unref)(h),{onOnPlays:(0,r.unref)(m)},null,8,["onOnPlays"])]),(0,r.createElementVNode)("div",c,[(0,r.createVNode)(l,{to:"/"},{default:(0,r.withCtx)((()=>[(0,r.createVNode)(s,{type:"primary"},{default:(0,r.withCtx)((()=>[(0,r.createTextVNode)("回到首页")])),_:1})])),_:1})])]),(0,r.createVNode)((0,r.unref)(t),{inof:(0,r.unref)(u)},null,8,["inof"])],64)}}};var u=(0,i(89).Z)(h,[["__scopeId","data-v-90e57b1e"]])}}]);